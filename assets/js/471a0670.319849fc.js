"use strict";(globalThis.webpackChunkwatchmen_docs=globalThis.webpackChunkwatchmen_docs||[]).push([[2173],{28453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>a});var t=n(96540);const s={},r=t.createContext(s);function l(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:i},e.children)}},45826:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"getting-started/first-pipeline","title":"Build Your First Pipeline","description":"Goal","source":"@site/docs/020-getting-started/130-first-pipeline.md","sourceDirName":"020-getting-started","slug":"/getting-started/first-pipeline","permalink":"/docs/next/getting-started/first-pipeline","draft":false,"unlisted":false,"editUrl":"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/docs/020-getting-started/130-first-pipeline.md","tags":[],"version":"current","lastUpdatedBy":"luke0623","lastUpdatedAt":1769524416000,"sidebarPosition":3,"frontMatter":{"id":"first-pipeline","title":"Build Your First Pipeline","sidebar_position":3},"sidebar":"sidebar","previous":{"title":"Build Your First Topic","permalink":"/docs/next/getting-started/first-topic"},"next":{"title":"Build Your First Subject","permalink":"/docs/next/getting-started/first-subject"}}');var s=n(74848),r=n(28453);const l={id:"first-pipeline",title:"Build Your First Pipeline",sidebar_position:3},a=void 0,d={},o=[{value:"Goal",id:"goal",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Concepts",id:"concepts",level:2},{value:"1) Open the Catalog",id:"1-open-the-catalog",level:2},{value:"2) Create a Pipeline",id:"2-create-a-pipeline",level:2},{value:"3) Define the Trigger",id:"3-define-the-trigger",level:2},{value:"4) Add Stages and Units",id:"4-add-stages-and-units",level:2},{value:"5) Add Actions",id:"5-add-actions",level:2},{value:"6) Parameters &amp; Variables",id:"6-parameters--variables",level:2},{value:"7) Review in DSL",id:"7-review-in-dsl",level:2},{value:"8) Save, Test, Enable",id:"8-save-test-enable",level:2},{value:"Good Practices",id:"good-practices",level:2},{value:"What\u2019s Next",id:"whats-next",level:2}];function c(e){const i={code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"goal",children:"Goal"}),"\n",(0,s.jsx)(i.p,{children:"Build your first pipeline: connect topics with staged logic that runs on insert/update/delete events."}),"\n",(0,s.jsx)(i.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Topics and basic data available."}),"\n",(0,s.jsx)(i.li,{children:"Admin access to the Pipeline catalog and editor."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"concepts",children:"Concepts"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Pipeline structure: Trigger \u2192 Stages \u2192 Units \u2192 Actions."}),"\n",(0,s.jsx)(i.li,{children:"Trigger: event from a topic (Insert, Insert or Merge, Merge, Delete)."}),"\n",(0,s.jsx)(i.li,{children:"Stage: sequential group of units with an optional prerequisite."}),"\n",(0,s.jsxs)(i.li,{children:["Unit: sequential group of actions, can loop over a list via ",(0,s.jsx)(i.code,{children:"Loop Variable Name"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Action: atomic operation (system/read/write)."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"1-open-the-catalog",children:"1) Open the Catalog"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Go to ",(0,s.jsx)(i.code,{children:"Pipeline"})," catalog."]}),"\n",(0,s.jsx)(i.li,{children:"Create a new group if needed and pick the topics to render."}),"\n",(0,s.jsx)(i.li,{children:"Drag blocks to organize the layout; the catalog view is per\u2011user."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"2-create-a-pipeline",children:"2) Create a Pipeline"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["From a topic navigator, click ",(0,s.jsx)(i.code,{children:"Create Outgoing Pipeline"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"The editor opens with a generated name; rename as needed."}),"\n",(0,s.jsx)(i.li,{children:"Keep the pipeline disabled until testing is complete."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"3-define-the-trigger",children:"3) Define the Trigger"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Choose the trigger type:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Insert: typically for raw/append\u2011only data."}),"\n",(0,s.jsx)(i.li,{children:"Insert or Merge: same logic for first insert and later updates."}),"\n",(0,s.jsx)(i.li,{children:"Merge: only handle updates."}),"\n",(0,s.jsx)(i.li,{children:"Delete: supported but generally not recommended."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.li,{children:"Optional: add a prerequisite that must be true on the trigger row before running."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"4-add-stages-and-units",children:"4) Add Stages and Units"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Add a stage, name it, and set a prerequisite if required."}),"\n",(0,s.jsx)(i.li,{children:"Within the stage, add one or more units."}),"\n",(0,s.jsxs)(i.li,{children:["For list processing, set ",(0,s.jsx)(i.code,{children:"Loop Variable Name"})," to iterate over elements in a variable."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"5-add-actions",children:"5) Add Actions"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["System actions:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Alarm: emit an in\u2011memory alert with severity and message."}),"\n",(0,s.jsx)(i.li,{children:"Copy to Variable: prepare computed values in memory."}),"\n",(0,s.jsx)(i.li,{children:"Write to External: synchronously call an external writer."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Read actions:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Exists: check for existence by criteria."}),"\n",(0,s.jsx)(i.li,{children:"Read Factor / Read Factors: read one factor or a list."}),"\n",(0,s.jsx)(i.li,{children:"Read Row / Read Rows: read one row or a list into variables."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Write actions:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Write Factor: update a single factor with a computed value."}),"\n",(0,s.jsx)(i.li,{children:"Insert Row: create a new row on target topic."}),"\n",(0,s.jsx)(i.li,{children:"Merge Row: update an existing row by criteria."}),"\n",(0,s.jsx)(i.li,{children:"Insert or Merge Row: upsert by criteria."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"6-parameters--variables",children:"6) Parameters & Variables"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Parameters can be From Topic, Constant, or Computed."}),"\n",(0,s.jsxs)(i.li,{children:["Constant supports variables via ",(0,s.jsx)(i.code,{children:"{var}"})," and built\u2011in functions like ",(0,s.jsx)(i.code,{children:"{&nextSeq}"}),", ",(0,s.jsx)(i.code,{children:"{&old.x}"}),"."]}),"\n",(0,s.jsx)(i.li,{children:"Computed offers math/date functions and case\u2011when style branching."}),"\n",(0,s.jsxs)(i.li,{children:["Variables are immutable; re\u2011declare to update. Use ",(0,s.jsx)(i.code,{children:"{var.sub}"})," to access nested values."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"7-review-in-dsl",children:"7) Review in DSL"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Switch to DSL view to inspect the definition in a YAML\u2011like format."}),"\n",(0,s.jsx)(i.li,{children:"Red highlights indicate issues to resolve."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"8-save-test-enable",children:"8) Save, Test, Enable"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Save the pipeline; button style indicates unsaved changes."}),"\n",(0,s.jsx)(i.li,{children:"Test in simulator or with a controlled event; verify results."}),"\n",(0,s.jsx)(i.li,{children:"Enable the pipeline when ready."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"good-practices",children:"Good Practices"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Concurrency: multiple pipelines may run on the same trigger; use prerequisites and follow\u2011up pipelines to avoid race conditions."}),"\n",(0,s.jsxs)(i.li,{children:['Read accuracy: ensure "one and only one" when using ',(0,s.jsx)(i.code,{children:"Read Factor"}),"/",(0,s.jsx)(i.code,{children:"Read Row"})," without aggregation."]}),"\n",(0,s.jsx)(i.li,{children:"Idempotency: design criteria and keys to make writes deterministic under retry."}),"\n",(0,s.jsxs)(i.li,{children:["Looping: for array/list variables, set ",(0,s.jsx)(i.code,{children:"Loop Variable Name"})," and reference elements via ",(0,s.jsx)(i.code,{children:"{items.x}"}),"."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"whats-next",children:"What\u2019s Next"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Add pipelines for related topics and split complex logic by stages."}),"\n",(0,s.jsx)(i.li,{children:"Introduce aggregation and time\u2011dimension factors for downstream analytics."}),"\n",(0,s.jsx)(i.li,{children:"Combine external writers for side\u2011effects with topic writes for data products."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);