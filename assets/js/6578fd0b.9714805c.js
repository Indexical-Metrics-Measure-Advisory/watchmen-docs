"use strict";(globalThis.webpackChunkwatchmen_docs=globalThis.webpackChunkwatchmen_docs||[]).push([[27337],{10453:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"data-ingestion/configuration-for-change-data-capture/table-config","title":"Table Configuration","description":"CollectorTableConfig","source":"@site/versioned_docs/version-18.0.0/030-data-ingestion/300-configuration-for-change-data-capture/200-table configuration.md","sourceDirName":"030-data-ingestion/300-configuration-for-change-data-capture","slug":"/data-ingestion/configuration-for-change-data-capture/table-config","permalink":"/docs/18.0.0/data-ingestion/configuration-for-change-data-capture/table-config","draft":false,"unlisted":false,"editUrl":"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/versioned_docs/version-18.0.0/030-data-ingestion/300-configuration-for-change-data-capture/200-table configuration.md","tags":[],"version":"18.0.0","lastUpdatedBy":"luke0623","lastUpdatedAt":1767196349000,"sidebarPosition":200,"frontMatter":{"id":"table-config","title":"Table Configuration","sidebar_position":200},"sidebar":"sidebar","previous":{"title":"Model Configuration","permalink":"/docs/18.0.0/data-ingestion/configuration-for-change-data-capture/model-config"},"next":{"title":"How to Reduce Recognize Complex in Data Ingestion","permalink":"/docs/18.0.0/data-ingestion/How to Reduce Recognize Complex in Data Ingestion"}}');var r=n(74848),d=n(28453);const a={id:"table-config",title:"Table Configuration",sidebar_position:200},s="Table Config",o={},c=[{value:"CollectorTableConfig",id:"collectortableconfig",level:2},{value:"API",id:"api",level:2},{value:"For Example",id:"for-example",level:3},{value:"1. Create configuration of table &quot;t_party&quot;, it is the root table of &quot;party&quot; model:",id:"1-create-configuration-of-table-t_party-it-is-the-root-table-of-party-model",level:4},{value:"2. Create configuration of table &quot;t_customer&quot;, it is child of table &quot;t_party&quot;:",id:"2-create-configuration-of-table-t_customer-it-is-child-of-table-t_party",level:4}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"table-config",children:"Table Config"})}),"\n",(0,r.jsx)(t.h2,{id:"collectortableconfig",children:"CollectorTableConfig"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Field"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"configId"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Unique key. Auto-generated."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"name"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"config name."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"modelName"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"It belongs to which model."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"objectKey"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Business key column"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"tableName"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Table of extraction"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"primaryKey"}),(0,r.jsx)(t.td,{children:"list"}),(0,r.jsx)(t.td,{children:"primary key of the extracted table."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"parentName"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"name of parent configuration."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"joinKeys"}),(0,r.jsx)(t.td,{children:"list"}),(0,r.jsx)(t.td,{children:"Associated field between parent and child tables."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"dependOn"}),(0,r.jsx)(t.td,{children:"list"}),(0,r.jsx)(t.td,{children:"Used for root table. When JSON is pushed to raw topic, determine its dependencies."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"conditions"}),(0,r.jsx)(t.td,{children:"list"}),(0,r.jsx)(t.td,{children:"Set conditions to filter data during extraction"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"label"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Node name in JSON"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"isList"}),(0,r.jsx)(t.td,{children:"bool"}),(0,r.jsx)(t.td,{children:"Is list or not."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"dataSourceId"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Then configuration of source db which data will be extracted."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"auditColumn"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Audit column for CDC query"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"triggered"}),(0,r.jsx)(t.td,{children:"bool"}),(0,r.jsx)(t.td,{children:"Enable the current configuration."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"tenantId"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Tenant id. Auto-generated by system when created."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"createdAt"}),(0,r.jsx)(t.td,{children:"datetime"}),(0,r.jsx)(t.td,{children:"Audit column. Auto-generated."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"createdBy"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Audit column. Auto-generated."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"lastModifiedAt"}),(0,r.jsx)(t.td,{children:"datetime"}),(0,r.jsx)(t.td,{children:"Audit column. Auto-generated."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"lastModifiedBy"}),(0,r.jsx)(t.td,{children:"str"}),(0,r.jsx)(t.td,{children:"Audit column. Auto-generated."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"version"}),(0,r.jsx)(t.td,{children:"int"}),(0,r.jsx)(t.td,{children:"Optimistic locking. Auto-generated."})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(t.p,{children:"create or update table config:"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"API"}),(0,r.jsx)(t.th,{children:"Description"}),(0,r.jsx)(t.th,{children:"Method"}),(0,r.jsx)(t.th,{children:"Request"}),(0,r.jsx)(t.th,{children:"Response"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"/collector/table/config"}),(0,r.jsx)(t.td,{children:"create table configuration"}),(0,r.jsx)(t.td,{children:"POST"}),(0,r.jsx)(t.td,{children:"CollectorTableConfig"}),(0,r.jsx)(t.td,{children:"CollectorTableConfig"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"for-example",children:"For Example"}),"\n",(0,r.jsx)(t.h4,{id:"1-create-configuration-of-table-t_party-it-is-the-root-table-of-party-model",children:'1. Create configuration of table "t_party", it is the root table of "party" model:'}),"\n",(0,r.jsx)(t.p,{children:"request:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "name": "t_party", \n    "modelName": "party",\n    "objectKey": "party_id",\n    "tableName": "t_party",\n    "primaryKey": [\n        "party_id"\n    ],\n    "dataSourceId": "1076175258178714624",\n    "auditColumn": "update_timestamp",\n    "isList": false,\n    "triggered": true\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"response:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "configId": "1077188883923622884",\n    "name": "t_party", \n    "modelName": "party",\n    "objectKey": "party_id",\n    "tableName": "t_party",\n    "primaryKey": [\n        "party_id"\n    ],\n    "dataSourceId": "1076175258178714624",\n    "auditColumn": "update_timestamp",\n    "isList": false,\n    "triggered": true,\n    "tenantId": "1",\n    "createdAt": "2023-02-20T11:20:03",\n    "createdBy": "2",\n    "lastModifiedAt": "2023-02-20T11:20:03",\n    "lastModifiedBy": "2",\n    "version": 1\n}\n'})}),"\n",(0,r.jsx)(t.h4,{id:"2-create-configuration-of-table-t_customer-it-is-child-of-table-t_party",children:'2. Create configuration of table "t_customer", it is child of table "t_party":'}),"\n",(0,r.jsx)(t.p,{children:"request:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "name": "t_customer",\n    "modelName": "party", \n    "objectKey": "party_id",\n    "tableName": "t_customer", \n    "primaryKey": [\n        "customer_id"\n    ],\n    "parentName": "t_party",\n    "joinKeys": [\n        {\n            "childKey": "customer_id",\n            "parentKey": "party_id"\n        }\n    ],\n    "label": "customer",\n    "auditColumn": "update_timestamp",\n    "dataSourceId": "1077240721411228672",\n    "isList": false,\n    "triggered": true\n}\n'})}),"\n",(0,r.jsx)(t.p,{children:"response:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "configId": "1077188883923623936",\n    "name": "t_customer",\n    "modelName": "party", \n    "objectKey": "party_id",\n    "tableName": "t_customer",\n    "parentName": "t_party",\n    "joinKeys": [\n        {\n            "childKey": "customer_id",\n            "parentKey": "party_id"\n        }\n    ],\n    "primaryKey": [\n        "customer_id"\n    ],\n    "label": "customer",\n    "auditColumn": "update_timestamp",\n    "dataSourceId": "1077240721411228672",\n    "isList": false,\n    "triggered": true,\n    "tenantId": "1",\n    "createdAt": "2023-02-20T11:24:03",\n    "createdBy": "2",\n    "lastModifiedAt": "2023-02-20T11:24:03",\n    "lastModifiedBy": "2",\n    "version": 1\n}\n'})})]})}function h(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>s});var i=n(96540);const r={},d=i.createContext(r);function a(e){const t=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(d.Provider,{value:t},e.children)}}}]);