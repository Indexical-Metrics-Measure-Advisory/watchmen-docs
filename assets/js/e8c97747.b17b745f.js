"use strict";(globalThis.webpackChunkwatchmen_docs=globalThis.webpackChunkwatchmen_docs||[]).push([[98849],{8567:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"cli/deploy","title":"Deployment","description":"watchmen-cli provide two kind of command of deploy:","source":"@site/versioned_docs/version-16.5-prerelease/070-cli/100-deployment.md","sourceDirName":"070-cli","slug":"/cli/deploy","permalink":"/docs/16.5-prerelease/cli/deploy","draft":false,"unlisted":false,"editUrl":"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/versioned_docs/version-16.5-prerelease/070-cli/100-deployment.md","tags":[],"version":"16.5-prerelease","lastUpdatedBy":"luke0623","lastUpdatedAt":1767191161000,"sidebarPosition":10,"frontMatter":{"id":"deploy","title":"Deployment","sidebar_position":10},"sidebar":"sidebar","previous":{"title":"CLI Overview","permalink":"/docs/16.5-prerelease/cli/cli-index"},"next":{"title":"Rerun","permalink":"/docs/16.5-prerelease/cli/rerun"}}');var d=t(74848),r=t(28453);const o={id:"deploy",title:"Deployment",sidebar_position:10},i="Deployment Command",l={},a=[{value:"deploy_asset",id:"deploy_asset",level:2},{value:"deploy",id:"deploy",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"deployment-command",children:"Deployment Command"})}),"\n",(0,d.jsx)(n.p,{children:"watchmen-cli provide two kind of command of deploy:"}),"\n",(0,d.jsx)(n.h2,{id:"deploy_asset",children:"deploy_asset"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"        def deploy_asset():\n"})}),"\n",(0,d.jsx)(n.p,{children:'The command "deploy_asset" have no arguments.\nYou can use the dotenv file to set the configuration of command.'}),"\n",(0,d.jsx)(n.p,{children:".env file"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-dotenv",children:"META_CLI_HOST = http://localhost:8000\nMETA_CLI_USERNAME = watchmen-user\nMETA_CLI_PASSWORD = change-me\nMETA_CLI_PAT = None # no need when the username and passowrd are setted\nMETA_CLI_DEPLOY_FOLDER = /app/config\nMETA_CLI_DEPLOY_PATTERN = REPLACE\n"})}),"\n",(0,d.jsx)(n.p,{children:"run command"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-commandline",children:"docker run --rm --env-file /usr/watchmen/watchmen-cli/env.list ghcr.io/indexical-metrics-measure-advisory/watchmen-cli:16.3.0\n"})}),"\n",(0,d.jsx)(n.h2,{id:"deploy",children:"deploy"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"\tdef deploy(\n\t\t\thost: Optional[str],\n\t\t\tpath: Optional[str],\n\t\t\tpattern: Optional[MixedImportType] = 'replace',\n\t\t\tusername: Optional[str] = None,\n\t\t\tpassword: Optional[str] = None,\n\t\t\tpat: Optional[str] = None\n\t)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"host"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"The host fo the watchmen application."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"path"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"The path of deploy config file."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"pattern"}),(0,d.jsx)(n.td,{children:"MixedImportType"}),(0,d.jsx)(n.td,{children:'Import type, usually use "replace"'})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"username"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"The username of the watchmen application. if pat exist, no need."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"password"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"The password of the watchmen application. if pat exist, no need."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"pat"}),(0,d.jsx)(n.td,{children:"str"}),(0,d.jsx)(n.td,{children:"The person access token of the watchmen application. if username and password exist, no need."})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"run command"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-commandline",children:"python ./src/cli.py deploy --path='/app/config' --host='http://localhost:8000' --username='watchmen-user' --password='change-me'\n"})}),"\n",(0,d.jsx)(n.h1,{id:"deploy-config-file",children:"Deploy Config File"}),"\n",(0,d.jsx)(n.p,{children:"The config file of deploy command is a markdown file, which exported from the watchmen application."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var s=t(96540);const d={},r=s.createContext(d);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);