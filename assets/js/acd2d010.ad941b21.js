"use strict";(globalThis.webpackChunkwatchmen_docs=globalThis.webpackChunkwatchmen_docs||[]).push([[52258],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var s=i(96540);const t={},l=s.createContext(t);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},52900:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"data-ingestion/collector-index","title":"Watchmen Ingestion","description":"UI Overview","source":"@site/docs/030-data-ingestion/001-collector-index.md","sourceDirName":"030-data-ingestion","slug":"/data-ingestion/collector-index","permalink":"/docs/next/data-ingestion/collector-index","draft":false,"unlisted":false,"editUrl":"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/docs/030-data-ingestion/001-collector-index.md","tags":[],"version":"current","lastUpdatedBy":"luke0623","lastUpdatedAt":1770208006000,"sidebarPosition":1,"frontMatter":{"id":"collector-index","title":"Watchmen Ingestion","sidebar_position":1},"sidebar":"sidebar","previous":{"title":"Build Your First Metric","permalink":"/docs/next/getting-started/first-metric"},"next":{"title":"Data Ingestion Strategy","permalink":"/docs/next/data-ingestion/data-ingestion"}}');var t=i(74848),l=i(28453);const r={id:"collector-index",title:"Watchmen Ingestion",sidebar_position:1},o="Collector",a={},c=[{value:"UI Overview",id:"ui-overview",level:2},{value:"Modules",id:"modules",level:2},{value:"Models",id:"models",level:2},{value:"Tables",id:"tables",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Monitor",id:"monitor",level:2},{value:"Dashboard",id:"dashboard",level:2},{value:"Capabilities",id:"capabilities",level:2},{value:"Summary",id:"summary",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Roles &amp; Responsibilities",id:"roles--responsibilities",level:2},{value:"Core Flow",id:"core-flow",level:2},{value:"Module Design (Kernel)",id:"module-design-kernel",level:2},{value:"Module Design (Surface)",id:"module-design-surface",level:2},{value:"Data Flow &amp; Interaction",id:"data-flow--interaction",level:2},{value:"Reliability &amp; Consistency",id:"reliability--consistency",level:2},{value:"Extensibility",id:"extensibility",level:2},{value:"Configuration &amp; Deployment",id:"configuration--deployment",level:2},{value:"Security &amp; Isolation",id:"security--isolation",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"collector",children:"Collector"})}),"\n",(0,t.jsx)(n.h2,{id:"ui-overview",children:"UI Overview"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Left navigation: ",(0,t.jsx)(n.code,{children:"Dashboard"}),", ",(0,t.jsx)(n.code,{children:"Modules"}),", ",(0,t.jsx)(n.code,{children:"Models"}),", ",(0,t.jsx)(n.code,{children:"Tables"}),", ",(0,t.jsx)(n.code,{children:"Configuration"}),", ",(0,t.jsx)(n.code,{children:"Monitor"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["Modules page uses card view: each card shows ",(0,t.jsx)(n.code,{children:"ID"}),", ",(0,t.jsx)(n.code,{children:"Priority"})," badge, ",(0,t.jsx)(n.code,{children:"Version"})," badge, ",(0,t.jsx)(n.code,{children:"Last modified"}),", and a quick edit button."]}),"\n",(0,t.jsxs)(n.li,{children:["Page actions: ",(0,t.jsx)(n.code,{children:"Execution Flow"})," visualizes the ingestion DAG; ",(0,t.jsx)(n.code,{children:"Create Module"})," adds a new module."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"modules",children:"Modules"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Manage system modules as independent ingestion domains."}),"\n",(0,t.jsx)(n.li,{children:"Card view supports quick inspection and inline edit of module metadata."}),"\n",(0,t.jsx)(n.li,{children:"Priority and version badges help sort and track release readiness."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"models",children:"Models"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Define ingestion models per module (entities, mappings, business keys)."}),"\n",(0,t.jsx)(n.li,{children:"Organize source\u2011to\u2011domain mappings used by CDC and file/queue ingestion."}),"\n",(0,t.jsx)(n.li,{children:"Create, edit and validate models before wiring them to tables."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"tables",children:"Tables"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Configure table\u2011level extraction and CDC (primary keys, audit columns, triggers)."}),"\n",(0,t.jsx)(n.li,{children:"Map tables to models, set batch size and concurrency, and enable/disable per table."}),"\n",(0,t.jsx)(n.li,{children:"Quick edit supports fast adjustments during rollout."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Global runtime settings for connectors, credentials, checkpoints and retention."}),"\n",(0,t.jsx)(n.li,{children:"Control concurrency, backoff/retry, and resource limits per module."}),"\n",(0,t.jsx)(n.li,{children:"Toggle feature flags for preview/production modes."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"monitor",children:"Monitor"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Observe execution flow and runtime status: running jobs, errors and throughput."}),"\n",(0,t.jsx)(n.li,{children:"View logs, backlog, and last modified timestamps to track freshness."}),"\n",(0,t.jsx)(n.li,{children:"Drill into modules and tables to diagnose issues rapidly."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dashboard",children:"Dashboard"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"High\u2011level counters and recent activity across modules."}),"\n",(0,t.jsx)(n.li,{children:"Shortcuts to create modules and open the execution flow."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"capabilities",children:"Capabilities"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Change Data Capture from source databases."}),"\n",(0,t.jsx)(n.li,{children:"File/S3 ingestion for cloud object storage."}),"\n",(0,t.jsx)(n.li,{children:"Queue\u2011based ingestion for event streams."}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"watchmen-collector-technical-overview",children:"Watchmen Collector Technical Overview"}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"watchmen-collector-kernel: core engine connecting external sources, executing extraction/CDC, normalizing events, delivery and task orchestration."}),"\n",(0,t.jsx)(n.li,{children:"watchmen-collector-surface: outer service and routing interface providing configuration, triggers, status query and monitoring; platform integration entry."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Layered design: Surface (service/routing/scheduling) invokes Kernel (connectors/CDC/transform/delivery) for low coupling and extensibility."}),"\n",(0,t.jsx)(n.li,{children:"Event\u2011driven: extractions and changes become unified events, transformed and delivered to targets (storage, queues, downstream APIs)."}),"\n",(0,t.jsx)(n.li,{children:"Task\u2011centric: all collection actions are organized as tasks with triggering, scheduling, retries and state management."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"roles--responsibilities",children:"Roles & Responsibilities"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Surface","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Exposes REST/HTTP routes: configuration, tasks, triggers, monitoring."}),"\n",(0,t.jsx)(n.li,{children:"Unified scheduler: translates triggers into executable tasks and hands them to Kernel."}),"\n",(0,t.jsx)(n.li,{children:"Runtime settings: control concurrency, retry and feature toggles."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Kernel","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Abstract source protocols: pluggable connectors (DB, object storage, messaging, etc.)."}),"\n",(0,t.jsx)(n.li,{children:"CDC pipeline: incremental change capture producing standardized events."}),"\n",(0,t.jsx)(n.li,{children:"Transform chain: mapping/validation/cleaning to align with target schema."}),"\n",(0,t.jsx)(n.li,{children:"Delivery & persistence: write to targets and persist task/event states."}),"\n",(0,t.jsx)(n.li,{children:"Reliability controls: locks, idempotency, retries and timeout cleanup."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"core-flow",children:"Core Flow"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Register configuration: sources, collection units (tables/paths/topics) and scheduling policies."}),"\n",(0,t.jsx)(n.li,{children:"Generate task: manual/cron/event trigger \u2192 Surface scheduler \u2192 Kernel execution."}),"\n",(0,t.jsx)(n.li,{children:"Connect & extract: connector establishes link; full/incremental extraction; CDC captures changes."}),"\n",(0,t.jsx)(n.li,{children:"Normalize: convert raw records to unified event with mappings and validations."}),"\n",(0,t.jsx)(n.li,{children:"Deliver & record: write to target (DB/object storage/queue/API) and record processing states."}),"\n",(0,t.jsx)(n.li,{children:"Monitor & feedback: report metrics, errors and alerts for ops and platform coordination."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"module-design-kernel",children:"Module Design (Kernel)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Connector","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Encapsulate protocols, auth and extraction strategy."}),"\n",(0,t.jsx)(n.li,{children:"Unified pull interface hides differences."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["CDC","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Support log/subscription/polling strategies."}),"\n",(0,t.jsx)(n.li,{children:"Convert changes into unified messages."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Transform","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Field mapping, type correction, filtering and aggregation."}),"\n",(0,t.jsx)(n.li,{children:"Ensure output aligns with target schema."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Delivery","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Write to storage/queues/downstream APIs."}),"\n",(0,t.jsx)(n.li,{children:"Provide idempotent keys and retry policy."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["State & Storage","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Persist task/event metadata, progress and results."}),"\n",(0,t.jsx)(n.li,{children:"Pluggable backends (relational/key\u2011value/object storage)."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Reliability","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Concurrency locks to avoid duplicate parallel runs."}),"\n",(0,t.jsx)(n.li,{children:"Idempotency to process duplicates safely."}),"\n",(0,t.jsx)(n.li,{children:"Exponential backoff retries."}),"\n",(0,t.jsx)(n.li,{children:"Timeout cleanup for stuck tasks."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"module-design-surface",children:"Module Design (Surface)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Config Router: register/change sources and collection units; validate and distribute parameters."}),"\n",(0,t.jsx)(n.li,{children:"Task Router: create/query/cancel/retry tasks; expose status and history."}),"\n",(0,t.jsx)(n.li,{children:"Trigger Router: immediate/cron/event triggers; multi\u2011tenant/project isolation."}),"\n",(0,t.jsx)(n.li,{children:"Scheduler: map triggers to executable tasks; control priority and concurrency."}),"\n",(0,t.jsx)(n.li,{children:"Settings: environment/auth/concurrency/retry/rate limit."}),"\n",(0,t.jsx)(n.li,{children:"Main/Surface: register routes, load config and start service."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"data-flow--interaction",children:"Data Flow & Interaction"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Input: source connection info, collection units, scheduling policies and trigger commands."}),"\n",(0,t.jsx)(n.li,{children:"Process: extract \u2192 normalize \u2192 transform \u2192 deliver, with state/metrics recorded along the way."}),"\n",(0,t.jsx)(n.li,{children:"Output: targets (storage/queue/API), task/event records and monitoring data."}),"\n",(0,t.jsx)(n.li,{children:"Feedback: query status/metrics; callbacks and alerts."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"reliability--consistency",children:"Reliability & Consistency"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Idempotency: unique event keys and idempotent delivery avoid duplicates."}),"\n",(0,t.jsx)(n.li,{children:"Delivery semantics: at\u2011least\u2011once by default; with idempotency approximates exactly\u2011once."}),"\n",(0,t.jsx)(n.li,{children:"Retry & compensation: failure retries; optional local rollback/compensation tasks."}),"\n",(0,t.jsx)(n.li,{children:"Timeout & reclamation: detect stuck tasks and reclaim resources."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"extensibility",children:"Extensibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"New sources: implement new connectors under a unified interface; register via Surface."}),"\n",(0,t.jsx)(n.li,{children:"New CDC strategies: extend change capture (logs/subscriptions/triggers)."}),"\n",(0,t.jsx)(n.li,{children:"Transform strategies: add mappers/validators/aggregators to match target schema."}),"\n",(0,t.jsx)(n.li,{children:"Delivery targets: extend backends (DB/object storage/queue/HTTP) as pluggable options."}),"\n",(0,t.jsx)(n.li,{children:"Scheduling policies: priority queues, rate limit, cross\u2011task dependency and multi\u2011tenant isolation."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configuration--deployment",children:"Configuration & Deployment"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Central settings managed at Surface; support env injection and multi\u2011env isolation."}),"\n",(0,t.jsxs)(n.li,{children:["Deployment modes:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Monolith: lightweight integration."}),"\n",(0,t.jsx)(n.li,{children:"Worker/Sidecar: horizontal scaling and elasticity."}),"\n",(0,t.jsx)(n.li,{children:"Platform\u2011integrated: collaborate with Meta/Pipeline for end\u2011to\u2011end chains."}),"\n",(0,t.jsx)(n.li,{children:"Serverless/Lambda: run tasks/functions on AWS Lambda/Azure Functions/GCP Cloud Functions; event/cron triggers; scale\u2011to\u2011zero; ephemeral execution with delivery to targets."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security--isolation",children:"Security & Isolation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"AuthZ: token/OAuth at routes; tenant/project permissions."}),"\n",(0,t.jsx)(n.li,{children:"Least privilege: connectors follow minimal permissions; secrets via env/keys."}),"\n",(0,t.jsx)(n.li,{children:"Audit & trace: task/event operation logs for audit and troubleshooting."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);