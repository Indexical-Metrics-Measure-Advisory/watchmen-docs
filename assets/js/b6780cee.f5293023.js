"use strict";(self.webpackChunkwatchmen_docs=self.webpackChunkwatchmen_docs||[]).push([[7371],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return u}});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=a.createContext({}),_=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=_(e.components);return a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=_(n),u=i,h=m["".concat(c,".").concat(u)]||m[u]||s[u]||r;return n?a.createElement(h,o(o({ref:t},d),{},{components:n})):a.createElement(h,o({ref:t},d))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var _=2;_<r;_++)o[_]=n[_];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9299:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return _},toc:function(){return d},default:function(){return m}});var a=n(7462),i=n(3366),r=(n(7294),n(3905)),o=["components"],l={id:"monitor-rules",title:"Define Monitor Rules",sidebar_position:20},c="Define Monitor Rules",_={unversionedId:"web-client/dqc/monitor-rules",id:"web-client/dqc/monitor-rules",title:"Define Monitor Rules",description:"There are a set of monitor rules built-in, before introducing what they monitored, let's have a look on how to attach them onto topic and",source:"@site/docs/web-client/dqc/monitor-rules.md",sourceDirName:"web-client/dqc",slug:"/web-client/dqc/monitor-rules",permalink:"/watchmen-docs/docs/next/web-client/dqc/monitor-rules",editUrl:"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/docs/web-client/dqc/monitor-rules.md",tags:[],version:"current",lastUpdatedBy:"botlikes",lastUpdatedAt:1642321976,formattedLastUpdatedAt:"1/16/2022",sidebarPosition:20,frontMatter:{id:"monitor-rules",title:"Define Monitor Rules",sidebar_position:20},sidebar:"sidebar",previous:{title:"Runtime Statistics",permalink:"/watchmen-docs/docs/next/web-client/dqc/run-statistics"},next:{title:"Standard Tuple Page",permalink:"/watchmen-docs/docs/next/web-client/standard-tuple-page"}},d=[{value:"Page",id:"page",children:[],level:2},{value:"Topic Level Rules",id:"topic-level-rules",children:[{value:"RAW_MISMATCH_STRUCTURE",id:"raw_mismatch_structure",children:[],level:3},{value:"FACTOR_MISMATCH_TYPE",id:"factor_mismatch_type",children:[],level:3},{value:"FACTOR_MISMATCH_ENUM",id:"factor_mismatch_enum",children:[],level:3},{value:"FACTOR_MISMATCH_DATE_TYPE",id:"factor_mismatch_date_type",children:[],level:3},{value:"ROWS_NOT_EXISTS",id:"rows_not_exists",children:[],level:3},{value:"ROWS_NO_CHANGE",id:"rows_no_change",children:[],level:3},{value:"ROWS_COUNT_MISMATCH_AND_ANOTHER",id:"rows_count_mismatch_and_another",children:[],level:3}],level:2},{value:"Factor Level Rules",id:"factor-level-rules",children:[{value:"FACTOR_MISMATCH_TYPE",id:"factor_mismatch_type-1",children:[],level:3},{value:"FACTOR_MISMATCH_ENUM",id:"factor_mismatch_enum-1",children:[],level:3},{value:"FACTOR_MISMATCH_DATE_TYPE",id:"factor_mismatch_date_type-1",children:[],level:3},{value:"FACTOR_IS_EMPTY",id:"factor_is_empty",children:[],level:3},{value:"FACTOR_USE_CAST",id:"factor_use_cast",children:[],level:3},{value:"FACTOR_COMMON_VALUE_OVER_COVERAGE",id:"factor_common_value_over_coverage",children:[],level:3},{value:"FACTOR_EMPTY_OVER_COVERAGE",id:"factor_empty_over_coverage",children:[],level:3},{value:"FACTOR_BREAKS_MONOTONE_INCREASING",id:"factor_breaks_monotone_increasing",children:[],level:3},{value:"FACTOR_BREAKS_MONOTONE_DECREASING",id:"factor_breaks_monotone_decreasing",children:[],level:3},{value:"FACTOR_NOT_IN_RANGE",id:"factor_not_in_range",children:[],level:3},{value:"FACTOR_MAX_NOT_IN_RANGE",id:"factor_max_not_in_range",children:[],level:3},{value:"FACTOR_MIN_NOT_IN_RANGE",id:"factor_min_not_in_range",children:[],level:3},{value:"FACTOR_AVG_NOT_IN_RANGE",id:"factor_avg_not_in_range",children:[],level:3},{value:"FACTOR_MEDIAN_NOT_IN_RANGE",id:"factor_median_not_in_range",children:[],level:3},{value:"FACTOR_QUANTILE_NOT_IN_RANGE",id:"factor_quantile_not_in_range",children:[],level:3},{value:"FACTOR_STDEV_NOT_IN_RANGE",id:"factor_stdev_not_in_range",children:[],level:3},{value:"FACTOR_COMMON_VALUE_NOT_IN_RANGE",id:"factor_common_value_not_in_range",children:[],level:3},{value:"FACTOR_IS_BLANK",id:"factor_is_blank",children:[],level:3},{value:"FACTOR_STRING_LENGTH_MISMATCH",id:"factor_string_length_mismatch",children:[],level:3},{value:"FACTOR_STRING_LENGTH_NOT_IN_RANGE",id:"factor_string_length_not_in_range",children:[],level:3},{value:"FACTOR_MATCH_REGEXP",id:"factor_match_regexp",children:[],level:3},{value:"FACTOR_MISMATCH_REGEXP",id:"factor_mismatch_regexp",children:[],level:3},{value:"FACTOR_AND_ANOTHER",id:"factor_and_another",children:[],level:3}],level:2},{value:"Statistical Interval",id:"statistical-interval",children:[],level:2}],s={toc:d};function m(e){var t=e.components,l=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},s,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"define-monitor-rules"},"Define Monitor Rules"),(0,r.kt)("p",null,"There are a set of monitor rules built-in, before introducing what they monitored, let's have a look on how to attach them onto topic and\nfactor."),(0,r.kt)("h2",{id:"page"},"Page"),(0,r.kt)("p",null,"Open monitor rules page, pick a topic and click ",(0,r.kt)("inlineCode",{parentName:"p"},"Find")," button, monitor rules defined will be shown,"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Define Monitor Rules",src:n(6499).Z})),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"There might be too many factors, you can focus on rules on one factor or topic level only by filter them."))),(0,r.kt)("p",null,"There are 2 parts of rules, one is on topic level only, another is on factor; and for each factor, it has its own rules. Factor with no rule\nwill not be shown at the first place, pick it from ",(0,r.kt)("inlineCode",{parentName:"p"},"Define factor rules...")," cell, then all rules suited for picked factor will be added into\ngrid."),(0,r.kt)("p",null,"All rules are disabled by first, it needs to be enabled, and set the severity."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Severity of rule is designed for alarming, we have no default implementation for reporting yet. To integrate with your own alarming servers,\nfind more details ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../../dqc/dqc-index"},"here")),"."))),(0,r.kt)("p",null,"Some rules need parameters, click edit cell to pass the parameter values."),(0,r.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Monitor rule will not change the behavior of runtime. It monitors data to find where needs to be focused on, and report them."))),(0,r.kt)("h2",{id:"topic-level-rules"},"Topic Level Rules"),(0,r.kt)("h3",{id:"raw_mismatch_structure"},"RAW_MISMATCH_STRUCTURE"),(0,r.kt)("p",null,"Instance data cannot match the structure of definition."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Only available on raw topic."))),(0,r.kt)("h3",{id:"factor_mismatch_type"},"FACTOR_MISMATCH_TYPE"),(0,r.kt)("p",null,"Factor value cannot match the type of definition. Monitors every factor when it is declared on topic level."),(0,r.kt)("h3",{id:"factor_mismatch_enum"},"FACTOR_MISMATCH_ENUM"),(0,r.kt)("p",null,"Factor value cannot match the enumeration value of definition. Monitors every ",(0,r.kt)("inlineCode",{parentName:"p"},"enum")," factor when it is declared on topic level."),(0,r.kt)("h3",{id:"factor_mismatch_date_type"},"FACTOR_MISMATCH_DATE_TYPE"),(0,r.kt)("p",null,"Factor value cannot match the date type of definition. Monitors every date factor when it is declared on topic level."),(0,r.kt)("p",null,"Factor types monitored by this rule as below,"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Date,"),(0,r.kt)("li",{parentName:"ul"},"Datetime,"),(0,r.kt)("li",{parentName:"ul"},"Full datetime,"),(0,r.kt)("li",{parentName:"ul"},"Time,"),(0,r.kt)("li",{parentName:"ul"},"Date of birth.")),(0,r.kt)("h3",{id:"rows_not_exists"},"ROWS_NOT_EXISTS"),(0,r.kt)("p",null,"No data in topic."),(0,r.kt)("h3",{id:"rows_no_change"},"ROWS_NO_CHANGE"),(0,r.kt)("p",null,"Data changes of topic detected in a particular period cannot meet the given coverage. There are 2 parameters,"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Coverage rate,"),(0,r.kt)("li",{parentName:"ul"},"Statistical interval.")),(0,r.kt)("h3",{id:"rows_count_mismatch_and_another"},"ROWS_COUNT_MISMATCH_AND_ANOTHER"),(0,r.kt)("p",null,"Row count of topic cannot match the given another one's. There are 2 parameters,"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Another topic,"),(0,r.kt)("li",{parentName:"ul"},"Statistical interval.")),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"Only available on non-raw topic."))),(0,r.kt)("h2",{id:"factor-level-rules"},"Factor Level Rules"),(0,r.kt)("h3",{id:"factor_mismatch_type-1"},"FACTOR_MISMATCH_TYPE"),(0,r.kt)("h3",{id:"factor_mismatch_enum-1"},"FACTOR_MISMATCH_ENUM"),(0,r.kt)("h3",{id:"factor_mismatch_date_type-1"},"FACTOR_MISMATCH_DATE_TYPE"),(0,r.kt)("h3",{id:"factor_is_empty"},"FACTOR_IS_EMPTY"),(0,r.kt)("h3",{id:"factor_use_cast"},"FACTOR_USE_CAST"),(0,r.kt)("h3",{id:"factor_common_value_over_coverage"},"FACTOR_COMMON_VALUE_OVER_COVERAGE"),(0,r.kt)("h3",{id:"factor_empty_over_coverage"},"FACTOR_EMPTY_OVER_COVERAGE"),(0,r.kt)("h3",{id:"factor_breaks_monotone_increasing"},"FACTOR_BREAKS_MONOTONE_INCREASING"),(0,r.kt)("h3",{id:"factor_breaks_monotone_decreasing"},"FACTOR_BREAKS_MONOTONE_DECREASING"),(0,r.kt)("h3",{id:"factor_not_in_range"},"FACTOR_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_max_not_in_range"},"FACTOR_MAX_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_min_not_in_range"},"FACTOR_MIN_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_avg_not_in_range"},"FACTOR_AVG_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_median_not_in_range"},"FACTOR_MEDIAN_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_quantile_not_in_range"},"FACTOR_QUANTILE_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_stdev_not_in_range"},"FACTOR_STDEV_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_common_value_not_in_range"},"FACTOR_COMMON_VALUE_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_is_blank"},"FACTOR_IS_BLANK"),(0,r.kt)("h3",{id:"factor_string_length_mismatch"},"FACTOR_STRING_LENGTH_MISMATCH"),(0,r.kt)("h3",{id:"factor_string_length_not_in_range"},"FACTOR_STRING_LENGTH_NOT_IN_RANGE"),(0,r.kt)("h3",{id:"factor_match_regexp"},"FACTOR_MATCH_REGEXP"),(0,r.kt)("h3",{id:"factor_mismatch_regexp"},"FACTOR_MISMATCH_REGEXP"),(0,r.kt)("h3",{id:"factor_and_another"},"FACTOR_AND_ANOTHER"),(0,r.kt)("h2",{id:"statistical-interval"},"Statistical Interval"),(0,r.kt)("p",null,"Statistical interval means the frequency of data scanning. There are 3 interval types,"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Daily,"),(0,r.kt)("li",{parentName:"ul"},"Weekly,"),(0,r.kt)("li",{parentName:"ul"},"Monthly.")),(0,r.kt)("p",null,"They all start at the end of previous cycle."))}m.isMDXComponent=!0},6499:function(e,t,n){t.Z=n.p+"assets/images/define-monitor-rules-4c90fad5c88667ad367534d3b8456209.png"}}]);