<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-18.0.0 docs-doc-page docs-doc-id-data-ingestion/data-ingestion" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Data Ingestion Strategy | Matryoshka Watchmen</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://imma-watchmen.com/docs/18.0.0/data-ingestion/data-ingestion"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="matryoshka, watchmen, data lake, lakehouse, pipeline, analysis, warehouse"><meta data-rh="true" name="docusaurus_version" content="18.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-18.0.0"><meta data-rh="true" name="docsearch:version" content="18.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-18.0.0"><meta data-rh="true" property="og:title" content="Data Ingestion Strategy | Matryoshka Watchmen"><meta data-rh="true" name="description" content="Watchmen advocates a fundamental shift in data ingestion: transforming raw transactions into domain events rather than simply replicating table changes. This approach prioritizes business semantics over database schema replication."><meta data-rh="true" property="og:description" content="Watchmen advocates a fundamental shift in data ingestion: transforming raw transactions into domain events rather than simply replicating table changes. This approach prioritizes business semantics over database schema replication."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://imma-watchmen.com/docs/18.0.0/data-ingestion/data-ingestion"><link data-rh="true" rel="alternate" href="https://imma-watchmen.com/docs/18.0.0/data-ingestion/data-ingestion" hreflang="en"><link data-rh="true" rel="alternate" href="https://imma-watchmen.com/docs/18.0.0/data-ingestion/data-ingestion" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Data Ingestion Strategy","item":"https://imma-watchmen.com/docs/18.0.0/data-ingestion/data-ingestion"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Matryoshka Watchmen RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Matryoshka Watchmen Atom Feed">







<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&amp;family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&amp;display=swap"><link rel="stylesheet" href="/assets/css/styles.59897168.css">
<script src="/assets/js/runtime~main.07c15f47.js" defer="defer"></script>
<script src="/assets/js/main.58e95c50.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Matryoshka" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Matryoshka" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Matryoshka Watchmen</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/18.0.0/docs-index">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/18.0.0/data-ingestion/data-ingestion">18.0.0</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/data-ingestion/data-ingestion">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/18.0.0/data-ingestion/data-ingestion">18.0.0</a></li><li><a class="dropdown__link" href="/docs/16.5-prerelease/docs-index">Current 16.5-prerelease ðŸŽ¯</a></li><li><a class="dropdown__link" href="/docs/16.4/docs-index">16.4</a></li><li><a class="dropdown__link" href="/docs/16.3/docs-index">16.3 ðŸ”š</a></li><li><a class="dropdown__link" href="/docs/16.2/docs-index">16.2 ðŸ”š</a></li><li><a class="dropdown__link" href="/docs/16.1/docs-index">16.1 ðŸ”š</a></li><li><a class="dropdown__link" href="/docs/16.0/docs-index">16.0 ðŸ”š</a></li><li><a class="dropdown__link" href="/docs/15.2.14/docs-index">15.2.14 ðŸ”š</a></li><li class=""><hr class="dropdown-separator"></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><a href="https://github.com/Indexical-Metrics-Measure-Advisory" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/logo.svg" alt="Matryoshka" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Matryoshka" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Matryoshka Watchmen</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/18.0.0/why"><span title="Why Watchmen" class="linkLabel_WmDU">Why Watchmen</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/introduction/what-is-watchmen"><span title="Introduction" class="categoryLinkLabel_W154">Introduction</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/18.0.0/docs-index"><span title="Roles &amp; Usage" class="linkLabel_WmDU">Roles &amp; Usage</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/getting-started/installation-quick-start"><span title="Getting Started" class="categoryLinkLabel_W154">Getting Started</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/18.0.0/data-ingestion/collector-index"><span title="Data Ingestion" class="categoryLinkLabel_W154">Data Ingestion</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/18.0.0/data-ingestion/collector-index"><span title="Watchmen Ingestion" class="linkLabel_WmDU">Watchmen Ingestion</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/18.0.0/data-ingestion/data-ingestion"><span title="Data Ingestion Strategy" class="linkLabel_WmDU">Data Ingestion Strategy</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/18.0.0/data-ingestion/configuration-for-change-data-capture/model-config"><span title="Configuration For CDC" class="categoryLinkLabel_W154">Configuration For CDC</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/18.0.0/data-ingestion/How to Reduce Recognize Complex in Data Ingestion"><span title="How to Reduce Recognize Complex in Data Ingestion" class="linkLabel_WmDU">How to Reduce Recognize Complex in Data Ingestion</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/data-modeling/admin-wb-index"><span title="Data Modeling &amp; Transformation" class="categoryLinkLabel_W154">Data Modeling &amp; Transformation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/data-analysis/console-wb-index"><span title="Data Analysis &amp; Visualization" class="categoryLinkLabel_W154">Data Analysis &amp; Visualization</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/data-quality/dqc-index"><span title="Data Quality" class="categoryLinkLabel_W154">Data Quality</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/kernel-architecture/doll-index"><span title="Watchmen Core" class="categoryLinkLabel_W154">Watchmen Core</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/cli-tools/cli/cli-index"><span title="cli-tools" class="categoryLinkLabel_W154">cli-tools</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/installation/config"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/appendix/license"><span title="Appendix" class="categoryLinkLabel_W154">Appendix</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/18.0.0/escosystem/databricks"><span title="escosystem" class="categoryLinkLabel_W154">escosystem</span></a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Matryoshka Watchmen<!-- --> <b>18.0.0</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/16.5-prerelease/docs-index">latest version</a></b> (<!-- -->Current 16.5-prerelease ðŸŽ¯<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data Ingestion</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Data Ingestion Strategy</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 18.0.0</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Domain-Oriented Ingestion</h1></header>
<p>Watchmen advocates a fundamental shift in data ingestion: <strong>transforming raw transactions into domain events rather than simply replicating table changes</strong>. This approach prioritizes business semantics over database schema replication.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="table-events-vs-domain-events">Table Events vs. Domain Events<a href="#table-events-vs-domain-events" class="hash-link" aria-label="Direct link to Table Events vs. Domain Events" title="Direct link to Table Events vs. Domain Events" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="limitations-of-table-level-cdc">Limitations of Table-Level CDC<a href="#limitations-of-table-level-cdc" class="hash-link" aria-label="Direct link to Limitations of Table-Level CDC" title="Direct link to Limitations of Table-Level CDC" translate="no">â€‹</a></h3>
<p>Traditional Change Data Capture (CDC) streams database operations directly:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Table A INSERT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Table B UPDATE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Table C INSERT</span><br></span></code></pre></div></div>
<p>This approach presents several challenges:</p>
<ul>
<li class=""><strong>Lack of Semantics</strong>: Tables are storage units, not necessarily business facts.</li>
<li class=""><strong>Fragmentation</strong>: A single business action (e.g., &quot;Order Placed&quot;) often splits across multiple tables (Orders, Inventory, Payments).</li>
<li class=""><strong>Unstable Ordering</strong>: Reassembling the sequence of cross-table writes is complex and error-prone.</li>
<li class=""><strong>Downstream Burden</strong>: Data engineers must reconstruct business logic and guess join conditions in every downstream pipeline.</li>
</ul>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="the-domain-event-approach">The Domain Event Approach<a href="#the-domain-event-approach" class="hash-link" aria-label="Direct link to The Domain Event Approach" title="Direct link to The Domain Event Approach" translate="no">â€‹</a></h3>
<p>Instead of replicating storage details, Watchmen encourages extracting complete business events based on the domain model at the moment of ingestion.</p>
<p><strong>Example: OrderPlaced Event</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">OrderPlaced</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Order Details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Customer Profile snapshot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Line Items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Payment Status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Shipping Address</span><br></span></code></pre></div></div>
<p>This structure achieves three objectives:</p>
<ol>
<li class=""><strong>Encapsulates Semantics</strong>: The event carries the full context of the business action.</li>
<li class=""><strong>Pre-defined Relationships</strong>: Cross-table relationships are resolved at definition time, not query time.</li>
<li class=""><strong>Consumer-Ready</strong>: Downstream systems receive complete facts without needing complex joins.</li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="engineering-benefits">Engineering Benefits<a href="#engineering-benefits" class="hash-link" aria-label="Direct link to Engineering Benefits" title="Direct link to Engineering Benefits" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="model-defined-joins">Model-Defined Joins<a href="#model-defined-joins" class="hash-link" aria-label="Direct link to Model-Defined Joins" title="Direct link to Model-Defined Joins" translate="no">â€‹</a></h3>
<p>In table-level CDC, joins are often implemented repeatedly and inconsistently across different pipelines. In the domain-model approach, joins are defined once during event construction. This creates a single source of truth for data relationships, making the system testable and versionable.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="consistency-and-state-management">Consistency and State Management<a href="#consistency-and-state-management" class="hash-link" aria-label="Direct link to Consistency and State Management" title="Direct link to Consistency and State Management" translate="no">â€‹</a></h3>
<p>Table-level streams often expose intermediate, inconsistent states (e.g., an order created but not yet paid). Domain events are emitted only when the business transaction is complete, ensuring that downstream systems process only valid, consistent facts. This is critical for real-time KPIs and risk control.</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="alignment-with-decision-granularity">Alignment with Decision Granularity<a href="#alignment-with-decision-granularity" class="hash-link" aria-label="Direct link to Alignment with Decision Granularity" title="Direct link to Alignment with Decision Granularity" translate="no">â€‹</a></h3>
<p>Business decisions depend on actions (e.g., &quot;User Churned&quot;), not database updates (e.g., &quot;Status column changed to 0&quot;). Domain events naturally align data engineering with business decision-making processes.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="operational-impact">Operational Impact<a href="#operational-impact" class="hash-link" aria-label="Direct link to Operational Impact" title="Direct link to Operational Impact" translate="no">â€‹</a></h2>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="for-business-analysts">For Business Analysts<a href="#for-business-analysts" class="hash-link" aria-label="Direct link to For Business Analysts" title="Direct link to For Business Analysts" translate="no">â€‹</a></h3>
<p>The shift simplifies data consumption. Analysts work with recognizable business concepts (&quot;Order Placed&quot;) rather than deciphering complex schemas and join logic (&quot;Order Table + Inventory Table + Log Table&quot;).</p>
<h3 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="for-data-engineers">For Data Engineers<a href="#for-data-engineers" class="hash-link" aria-label="Direct link to For Data Engineers" title="Direct link to For Data Engineers" translate="no">â€‹</a></h3>
<p>While this approach requires more upfront effort in domain modeling and governance, it significantly reduces long-term maintenance costs. It accelerates downstream development, reduces bug density, and ensures metric definitions converge.</p>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="key-requirements">Key Requirements<a href="#key-requirements" class="hash-link" aria-label="Direct link to Key Requirements" title="Direct link to Key Requirements" translate="no">â€‹</a></h2>
<p>To successfully implement this strategy, the architecture must support:</p>
<ol>
<li class=""><strong>Versioning</strong>: Domain models evolve. The system must handle schema evolution (e.g., v1/v2 events) to prevent breaking downstream consumers.</li>
<li class=""><strong>Raw Data Retention</strong>: Domain events are derived. The system must retain the raw CDC stream to allow for lineage tracing, error correction, and replaying history.</li>
<li class=""><strong>Declarative Events</strong>: Events should represent facts (<code>OrderPlaced</code>, <code>PaymentReceived</code>), not computed derivatives (<code>MonthlySalesCalculated</code>).</li>
</ol>
<h2 class="anchor anchorTargetHideOnScrollNavbar_vjPI" id="strategic-value">Strategic Value<a href="#strategic-value" class="hash-link" aria-label="Direct link to Strategic Value" title="Direct link to Strategic Value" translate="no">â€‹</a></h2>
<p>In complex scenarios like Retail or Insurance, structural data integrity is paramount. A unified <code>OrderPlaced</code> event can simultaneously power:</p>
<ul>
<li class="">Sales Performance Analysis</li>
<li class="">Inventory Optimization</li>
<li class="">Marketing Automation</li>
<li class="">AI Model Training</li>
</ul>
<p>This eliminates the need for each subsystem to independently reconstruct the data state, ensuring consistency across the enterprise.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/versioned_docs/version-18.0.0/030-data-ingestion/130-data ingestion.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-31T14:20:06.000Z" itemprop="dateModified">Dec 31, 2025</time></b> by <b>luke0623</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/18.0.0/data-ingestion/collector-index"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Watchmen Ingestion</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/18.0.0/data-ingestion/configuration-for-change-data-capture/model-config"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Model Configuration</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-events-vs-domain-events" class="table-of-contents__link toc-highlight">Table Events vs. Domain Events</a><ul><li><a href="#limitations-of-table-level-cdc" class="table-of-contents__link toc-highlight">Limitations of Table-Level CDC</a></li><li><a href="#the-domain-event-approach" class="table-of-contents__link toc-highlight">The Domain Event Approach</a></li></ul></li><li><a href="#engineering-benefits" class="table-of-contents__link toc-highlight">Engineering Benefits</a><ul><li><a href="#model-defined-joins" class="table-of-contents__link toc-highlight">Model-Defined Joins</a></li><li><a href="#consistency-and-state-management" class="table-of-contents__link toc-highlight">Consistency and State Management</a></li><li><a href="#alignment-with-decision-granularity" class="table-of-contents__link toc-highlight">Alignment with Decision Granularity</a></li></ul></li><li><a href="#operational-impact" class="table-of-contents__link toc-highlight">Operational Impact</a><ul><li><a href="#for-business-analysts" class="table-of-contents__link toc-highlight">For Business Analysts</a></li><li><a href="#for-data-engineers" class="table-of-contents__link toc-highlight">For Data Engineers</a></li></ul></li><li><a href="#key-requirements" class="table-of-contents__link toc-highlight">Key Requirements</a></li><li><a href="#strategic-value" class="table-of-contents__link toc-highlight">Strategic Value</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Indexical-Metrics-Measure-Advisory/watchmen" target="_blank" rel="noopener noreferrer" class="footer__link-item">Doll &amp; DQC<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Matryoshka Watchmen. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>