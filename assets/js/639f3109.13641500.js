"use strict";(globalThis.webpackChunkwatchmen_docs=globalThis.webpackChunkwatchmen_docs||[]).push([[75070],{11470:(e,t,n)=>{n.d(t,{A:()=>v});var i=n(96540),r=n(18215),a=n(17559),o=n(23104),c=n(56347),s=n(205),l=n(57485),p=n(31682),d=n(70679);function u(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function m(e){const{values:t,children:n}=e;return(0,i.useMemo)(()=>{const e=t??function(e){return u(e).map(({props:{value:e,label:t,attributes:n,default:i}})=>({value:e,label:t,attributes:n,default:i}))}(n);return function(e){const t=(0,p.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function g({value:e,tabValues:t}){return t.some(t=>t.value===e)}function h({queryString:e=!1,groupId:t}){const n=(0,c.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;const t=new URLSearchParams(n.location.search);t.set(r,e),n.replace({...n.location,search:t.toString()})},[r,n])]}function x(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,a=m(e),[o,c]=(0,i.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a})),[l,p]=h({queryString:n,groupId:r}),[u,x]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,r]=(0,d.Dv)(t);return[n,(0,i.useCallback)(e=>{t&&r.set(e)},[t,r])]}({groupId:r}),A=(()=>{const e=l??u;return g({value:e,tabValues:a})?e:null})();(0,s.A)(()=>{A&&c(A)},[A]);return{selectedValue:o,selectValue:(0,i.useCallback)(e=>{if(!g({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);c(e),p(e),x(e)},[p,x,a]),tabValues:a}}var A=n(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var T=n(74848);function f({className:e,block:t,selectedValue:n,selectValue:i,tabValues:a}){const c=[],{blockElementScrollPositionUntilNextRender:s}=(0,o.a_)(),l=e=>{const t=e.currentTarget,r=c.indexOf(t),o=a[r].value;o!==n&&(s(t),i(o))},p=e=>{let t=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return(0,T.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:a.map(({value:e,label:t,attributes:i})=>(0,T.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{c.push(e)},onKeyDown:p,onClick:l,...i,className:(0,r.A)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function b({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,T.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function R(e){const t=x(e);return(0,T.jsxs)("div",{className:(0,r.A)(a.G.tabs.container,"tabs-container",y.tabList),children:[(0,T.jsx)(f,{...t,...e}),(0,T.jsx)(b,{...t,...e})]})}function v(e){const t=(0,A.A)();return(0,T.jsx)(R,{...e,children:u(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>o});n(96540);var i=n(18215);const r={tabItem:"tabItem_Ymn6"};var a=n(74848);function o({children:e,hidden:t,className:n}){return(0,a.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,n),hidden:t,children:e})}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var i=n(96540);const r={},a=i.createContext(r);function o(e){const t=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(a.Provider,{value:t},e.children)}},39189:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"tuples/pipeline","title":"Pipeline","description":"Model","source":"@site/versioned_docs/version-15.2.14/tuples/pipeline.mdx","sourceDirName":"tuples","slug":"/tuples/pipeline","permalink":"/docs/15.2.14/tuples/pipeline","draft":false,"unlisted":false,"editUrl":"https://github.com/Indexical-Metrics-Measure-Advisory/watchmen-docs/tree/main/versioned_docs/version-15.2.14/tuples/pipeline.mdx","tags":[],"version":"15.2.14","lastUpdatedBy":"luke0623","lastUpdatedAt":1767190806000,"sidebarPosition":10,"frontMatter":{"id":"pipeline","title":"Pipeline","sidebar_position":10},"sidebar":"sidebar","previous":{"title":"Topic","permalink":"/docs/15.2.14/tuples/topic"},"next":{"title":"License","permalink":"/docs/15.2.14/appendix/license"}}');var r=n(74848),a=n(28453),o=n(19365),c=n(11470);const s={id:"pipeline",title:"Pipeline",sidebar_position:10},l="Space",p={},d=[{value:"Model",id:"model",level:2}];function u(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"space",children:"Space"})}),"\n",(0,r.jsx)(t.h2,{id:"model",children:"Model"}),"\n",(0,r.jsxs)(c.A,{children:[(0,r.jsxs)(o.A,{value:"ts",label:"Typescript",children:[(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-super-types.ts"',children:"export interface Conditional {\n\tconditional: boolean;\n\ton?: ParameterJoint;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-action/pipeline-stage-unit-action-types.ts"',children:"export enum SystemActionType {\n\tALARM = 'alarm',\n\tCOPY_TO_MEMORY = 'copy-to-memory',\n\tWRITE_TO_EXTERNAL = 'write-to-external'\n}\n\nexport enum ReadTopicActionType {\n\tREAD_ROW = 'read-row',\n\tREAD_FACTOR = 'read-factor',\n\tEXISTS = 'exists',\n\tREAD_ROWS = 'read-rows',\n\tREAD_FACTORS = 'read-factors'\n}\n\nexport enum WriteTopicActionType {\n\tMERGE_ROW = 'merge-row',\n\tINSERT_ROW = 'insert-row',\n\tINSERT_OR_MERGE_ROW = 'insert-or-merge-row',\n\tWRITE_FACTOR = 'write-factor',\n}\n\nexport type PipelineStageUnitActionType = WriteTopicActionType | ReadTopicActionType | SystemActionType;\n\nexport type PipelineStageUnitActionId = string;\n\nexport interface PipelineStageUnitAction {\n\tactionId: PipelineStageUnitActionId;\n\ttype: PipelineStageUnitActionType;\n}\n\nexport interface MemoryWriter extends PipelineStageUnitAction {\n\tvariableName: string;\n}\n\nexport interface FromTopic extends PipelineStageUnitAction {\n\ttopicId: TopicId;\n}\n\nexport interface FromFactor extends FromTopic {\n\tfactorId: FactorId;\n}\n\nexport interface ToTopic extends PipelineStageUnitAction {\n\ttopicId: TopicId;\n}\n\nexport interface ToFactor extends ToTopic {\n\tfactorId: FactorId;\n}\n\nexport interface FindBy extends PipelineStageUnitAction {\n\tby: ParameterJoint;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-action/aggregate-arithmetic-types.ts"',children:"export enum AggregateArithmetic {\n\tNONE = 'none',\n\tCOUNT = 'count',\n\tSUM = 'sum',\n\tAVG = 'avg'\n}\n\nexport interface AggregateArithmeticHolder {\n\tarithmetic: AggregateArithmetic;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-action/system-actions-types.ts"',children:"export enum AlarmActionSeverity {\n\tLOW = 'low',\n\tMEDIUM = 'medium',\n\tHIGH = 'high',\n\tCRITICAL = 'critical',\n}\n\nexport interface AlarmAction extends PipelineStageUnitAction, Conditional {\n\ttype: SystemActionType.ALARM;\n\tseverity: AlarmActionSeverity;\n\tmessage: string;\n}\n\n\t/** copy something to memory variable */\nexport interface CopyToMemoryAction extends PipelineStageUnitAction, MemoryWriter {\n\ttype: SystemActionType.COPY_TO_MEMORY;\n\tsource: Parameter;\n}\n\nexport interface WriteToExternalAction extends PipelineStageUnitAction {\n\ttype: SystemActionType.WRITE_TO_EXTERNAL;\n\texternalWriterId: string;\n\teventCode?: string;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-action/read-topic-actions-types.ts"',children:"export interface ReadTopicAction extends FromTopic, MemoryWriter, FindBy, PipelineStageUnitAction {\n\ttype: ReadTopicActionType;\n}\n\nexport interface ReadRowAction extends ReadTopicAction {\n\ttype: ReadTopicActionType.READ_ROW;\n}\n\nexport interface ReadRowsAction extends ReadTopicAction {\n\ttype: ReadTopicActionType.READ_ROWS;\n}\n\nexport interface ReadFactorAction extends FromFactor, ReadTopicAction, AggregateArithmeticHolder {\n\ttype: ReadTopicActionType.READ_FACTOR;\n}\n\nexport interface ReadFactorsAction extends FromFactor, ReadTopicAction {\n\ttype: ReadTopicActionType.READ_FACTORS;\n}\n\nexport interface ExistsAction extends ReadTopicAction {\n\ttype: ReadTopicActionType.EXISTS;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-action/write-topic-actions-types.ts"',children:"export interface MappingFactor extends AggregateArithmeticHolder {\n\tsource: Parameter;\n\tfactorId: FactorId;\n}\n\nexport interface MappingRow extends PipelineStageUnitAction {\n\tmapping: Array<MappingFactor>;\n}\n\nexport interface WriteTopicAction extends ToTopic, PipelineStageUnitAction {\n\ttype: WriteTopicActionType;\n}\n\nexport interface InsertRowAction extends WriteTopicAction, MappingRow {\n\ttype: WriteTopicActionType.INSERT_ROW;\n}\n\nexport interface MergeRowAction extends WriteTopicAction, MappingRow, FindBy {\n\ttype: WriteTopicActionType.MERGE_ROW | WriteTopicActionType.INSERT_OR_MERGE_ROW;\n}\n\nexport interface WriteFactorAction extends ToFactor, WriteTopicAction, FindBy, AggregateArithmeticHolder {\n\ttype: WriteTopicActionType.WRITE_FACTOR;\n\tsource: Parameter;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-unit-types.ts"',children:"export interface PipelineStageUnit extends Conditional {\n\tunitId: PipelineStageUnitId;\n\tname: string;\n\t/** all actions in this unit can be looped inside */\n\tloopVariableName?: string;\n\tdo: Array<PipelineStageUnitAction>;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-stage-types.ts"',children:"export interface PipelineStage extends Conditional {\n\tstageId: PipelineStageId;\n\tname: string;\n\tunits: Array<PipelineStageUnit>;\n}\n"})}),(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:'title="watchmen-web-client/src/services/data/tuples/pipeline-types.ts"',children:"export enum PipelineTriggerType {\n\tINSERT = 'insert',\n\tMERGE = 'merge',\n\t// insert or merge\n\tINSERT_OR_MERGE = 'insert-or-merge',\n\tDELETE = 'delete',\n}\n\nexport type PipelineId = string;\n\nexport interface Pipeline extends Tuple, Conditional {\n\tpipelineId: PipelineId;\n\ttopicId: TopicId;\n\tname: string;\n\ttype: PipelineTriggerType;\n\tstages: Array<PipelineStage>;\n\tenabled: boolean;\n\tvalidated: boolean;\n\ttenantId?: TenantId;\n}\n"})})]}),(0,r.jsx)(o.A,{value:"py",label:"Python",children:(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.em,{children:(0,r.jsx)(t.code,{children:"(under construction)"})})})})})]})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}}}]);